name: Build dist
description: Build static files for frontend
inputs:
  WORK_DIR: 
    description: Path to source code
    required: true
runs:
  using: "composite"
  steps:  
    - uses: actions/setup-node@v2
      with:
        node-version: '14.16.1'
        cache: npm
        cache-dependency-path: ${{inputs.WORK_DIR}}/package-lock.json
    - name: Install NPM packages
      shell: sh
      working-directory: "${{inputs.WORK_DIR}}"
      run: npm ci
    - name: Build frontend
      shell: sh
      working-directory: "${{inputs.WORK_DIR}}"
      run: npm run build
